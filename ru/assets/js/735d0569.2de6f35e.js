"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[7445],{997:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>k,frontMatter:()=>o,metadata:()=>d,toc:()=>m});var a=n(7462),i=(n(7294),n(3905)),l=n(2259);const o={},r="Changelog",d={unversionedId:"changelog",id:"changelog",title:"Changelog",description:"Bots API (5.0-6.6)",source:"@site/docs/changelog.mdx",sourceDirName:".",slug:"/changelog",permalink:"/ru/docs/changelog",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/changelog.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\ud83c\udf10 Internalization (i18next)",permalink:"/ru/docs/advanced/internalization"},next:{title:"Requesting more content",permalink:"/ru/docs/requesting-more-content"}},p={},m=[{value:"Bots API (5.0-6.6)",id:"bots-api-50-66",level:4},{value:"5.0",id:"50",level:4},{value:"5.1",id:"51",level:4},{value:"5.2",id:"52",level:4},{value:"5.3",id:"53",level:4},{value:"5.4",id:"54",level:4},{value:"5.5",id:"55",level:4},{value:"5.6",id:"56",level:4},{value:"5.7",id:"57",level:4},{value:"6.0",id:"60",level:4},{value:"6.1",id:"61",level:4},{value:"Bot API 6.2",id:"bot-api-62",level:4},{value:"Bot API 6.3",id:"bot-api-63",level:4},{value:"Bot API 6.4",id:"bot-api-64",level:4},{value:"Bot API 6.5",id:"bot-api-65",level:4},{value:"Bots API 6.6",id:"bots-api-66",level:4},{value:"Other",id:"other",level:4},{value:"2.3.1",id:"231",level:4},{value:"4.5",id:"45",level:4},{value:"Opengram",id:"opengram",level:4},{value:"General",id:"general",level:4}],s={toc:m};function k(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"changelog"},"Changelog"),(0,i.kt)("h4",{id:"bots-api-50-66"},"Bots API (5.0-6.6)"),(0,i.kt)("h4",{id:"50"},"5.0"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added extra parameter's argument for ",(0,i.kt)("inlineCode",{parentName:"li"},"deleteWebhook")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)(l.Z,{label:"BREAKING",size:"small",color:"error",mdxType:"Chip"})," Changed ",(0,i.kt)("code",null,"setWebhook")," method arguments")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// Previously the syntax was\nsetWebhook (url, certificate, maxConnections, allowedUpdates)\n//Now: (check docs for more info)\nsetWebhook (webhookOptions, extra)\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("inlineCode",{parentName:"li"},"dropPendingUpdates")," , ",(0,i.kt)("inlineCode",{parentName:"li"},"ip_address")," options for ",(0,i.kt)("inlineCode",{parentName:"li"},"Opengram#launch")," method."),(0,i.kt)("li",{parentName:"ul"},"Added extra parameter's argument for ",(0,i.kt)("inlineCode",{parentName:"li"},"unbanChatMember"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"unbanChatMember"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"editMessageLiveLocation")),(0,i.kt)("li",{parentName:"ul"},"Added method ",(0,i.kt)("inlineCode",{parentName:"li"},"unpinAllChatMessages"))),(0,i.kt)("h4",{id:"51"},"5.1"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added support for ",(0,i.kt)("inlineCode",{parentName:"li"},"my_chat_member"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"chat_member"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"message_auto_delete_timer_changed"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"voice_chat_started"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"voice_chat_ended"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"voice_chat_participants_invited")," events"),(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("inlineCode",{parentName:"li"},"createChatInviteLink"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"editChatInviteLink"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"revokeChatInviteLink")," methods"),(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("inlineCode",{parentName:"li"},"myChatMember"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"chatMember")," getters for Context")),(0,i.kt)("h4",{id:"52"},"5.2"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added support for ",(0,i.kt)("inlineCode",{parentName:"li"},"voice_chat_participants_invited"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"voice_chat_scheduled")," event")),(0,i.kt)("h4",{id:"53"},"5.3"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("inlineCode",{parentName:"li"},"inputFieldPlaceholder")," for Markup class"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"deleteMyCommands"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"banChatMember"),"(",(0,i.kt)("inlineCode",{parentName:"li"},"kickChatMember")," marked as deprecated), ",(0,i.kt)("inlineCode",{parentName:"li"},"getChatMemberCount")," (",(0,i.kt)("inlineCode",{parentName:"li"},"getChatMembersCount")," marked ad deprecated)"),(0,i.kt)("li",{parentName:"ul"},"Added extra parameter's argument for ",(0,i.kt)("inlineCode",{parentName:"li"},"setMyCommands"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"getMyCommands"))),(0,i.kt)("h4",{id:"54"},"5.4"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added support for ",(0,i.kt)("inlineCode",{parentName:"li"},"chat_join_request")," event"),(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("inlineCode",{parentName:"li"},"chatJoinRequest")," getter for Context"),(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("inlineCode",{parentName:"li"},"approveChatJoinRequest"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"declineChatJoinRequest")," methods")),(0,i.kt)("h4",{id:"55"},"5.5"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("inlineCode",{parentName:"li"},"banChatSenderChat"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"unbanChatSenderChat")," method"),(0,i.kt)("li",{parentName:"ul"},"Added support for ",(0,i.kt)("inlineCode",{parentName:"li"},"spoiler")," entity")),(0,i.kt)("h4",{id:"56"},"5.6"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added the parameter protect_content to the methods ",(0,i.kt)("inlineCode",{parentName:"li"},"sendMessage"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"sendPhoto"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"sendVideo"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"sendAnimation"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"sendAudio"),",\n",(0,i.kt)("inlineCode",{parentName:"li"},"sendDocument"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"sendSticker"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"sendVideoNote"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"sendVoice"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"sendLocation"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"sendVenue"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"sendContact"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"sendPoll"),",\n",(0,i.kt)("inlineCode",{parentName:"li"},"sendDice"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"sendInvoice"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"sendGame"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"sendMediaGroup"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"copyMessage"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"forwardMessage"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"reply"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithHTML"),",\n",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithMarkdown"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithMarkdownV2")," to allow sending messages with protected content to any chat."),(0,i.kt)("li",{parentName:"ul"},"Added support for spoiler entities")),(0,i.kt)("h4",{id:"57"},"5.7"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added the parameter webm_sticker to the methods ",(0,i.kt)("inlineCode",{parentName:"li"},"createNewStickerSet")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"addStickerToSet"),".")),(0,i.kt)("h4",{id:"60"},"6.0"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added web app button for keyboard & inline-keyboard"),(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("inlineCode",{parentName:"li"},"answerWebAppQuery")," for sending an answer to a Web App query, which originated from an inline button of the 'web_app' type."),(0,i.kt)("li",{parentName:"ul"},"Added event ",(0,i.kt)("inlineCode",{parentName:"li"},"web_app_data")),(0,i.kt)("li",{parentName:"ul"},"Added methods ",(0,i.kt)("inlineCode",{parentName:"li"},"setChatMenuButton")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"getChatMenuButton")," for managing the behavior of the bot's menu button in private chats."),(0,i.kt)("li",{parentName:"ul"},"Added methods ",(0,i.kt)("inlineCode",{parentName:"li"},"setMyDefaultAdministratorRights")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"getMyDefaultAdministratorRights")," for managing the bot's default administrator rights."),(0,i.kt)("li",{parentName:"ul"},"Added support for t.me links that can be used to add the bot to groups and channels as an administrator.")),(0,i.kt)("h4",{id:"61"},"6.1"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added the method ",(0,i.kt)("inlineCode",{parentName:"li"},"createInvoiceLink")," to generate an HTTP link for an invoice."),(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("inlineCode",{parentName:"li"},"secret_token")," support for webhooks.")),(0,i.kt)("h4",{id:"bot-api-62"},"Bot API 6.2"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added support for ",(0,i.kt)("inlineCode",{parentName:"li"},"custom_emoji")," message entity"),(0,i.kt)("li",{parentName:"ul"},"Added the method ",(0,i.kt)("inlineCode",{parentName:"li"},"getCustomEmojiStickers"),".")),(0,i.kt)("h4",{id:"bot-api-63"},"Bot API 6.3"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added auto reference ",(0,i.kt)("inlineCode",{parentName:"li"},"message_thread_id")," for context methods ",(0,i.kt)("inlineCode",{parentName:"li"},"reply"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithPhoto"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithMediaGroup"),",\n",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithAudio"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithDice"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithDocument"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithSticker"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithVideo"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithAnimation"),",\n",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithVideoNote"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithInvoice"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithGame"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithVoice"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithPoll"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithQuiz"),",\n",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithChatAction"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithLocation"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithVenue"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"replyWithContact")),(0,i.kt)("li",{parentName:"ul"},"Added the methods ",(0,i.kt)("inlineCode",{parentName:"li"},"createForumTopic"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"editForumTopic"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"closeForumTopic"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"reopenForumTopic"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"deleteForumTopic"),",\n",(0,i.kt)("inlineCode",{parentName:"li"},"unpinAllForumTopicMessages"),", and ",(0,i.kt)("inlineCode",{parentName:"li"},"getForumTopicIconStickers")," for forum topic management.")),(0,i.kt)("h4",{id:"bot-api-64"},"Bot API 6.4"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added auto reference ",(0,i.kt)("inlineCode",{parentName:"li"},"message_thread_id")," for context method ",(0,i.kt)("inlineCode",{parentName:"li"},"sendChatAction"))),(0,i.kt)("h4",{id:"bot-api-65"},"Bot API 6.5"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added keyboard buttons ",(0,i.kt)("inlineCode",{parentName:"li"},"userRequest"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"botRequest"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"groupRequest"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"channelRequest"))),(0,i.kt)("h4",{id:"bots-api-66"},"Bots API 6.6"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Added methods ",(0,i.kt)("inlineCode",{parentName:"p"},"setMyDescription"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"getMyDescription"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"setMyShortDescription"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"getMyShortDescription"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Added the method setCustomEmojiStickerSetThumbnail for editing the thumbnail of custom emoji sticker sets created by the bot.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Added the method setStickerSetTitle for editing the title of sticker sets created by the bot.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Added the method deleteStickerSet for complete deletion of a given sticker set that was created by the bot.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Added the method setStickerEmojiList for changing the list of emoji associated with a sticker.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Added the method setStickerKeywords for changing the search keywords assigned to a sticker.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Added the method setStickerMaskPosition for changing the mask position of a mask sticker.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Added ",(0,i.kt)("inlineCode",{parentName:"p"},"setStickerSetThumbnail"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"setStickerSetThumb")," now ",(0,i.kt)("strong",{parentName:"p"},"deprecated")))),(0,i.kt)("h4",{id:"other"},"Other"),(0,i.kt)("h4",{id:"231"},"2.3.1"),(0,i.kt)("p",null,"Added ",(0,i.kt)("inlineCode",{parentName:"p"},"max_connections")," for ",(0,i.kt)("inlineCode",{parentName:"p"},"Opengram#launch")),(0,i.kt)("h4",{id:"45"},"4.5"),(0,i.kt)("p",null,"Added ",(0,i.kt)("inlineCode",{parentName:"p"},"MarkdownV2")," support for ",(0,i.kt)("inlineCode",{parentName:"p"},"Extra")),(0,i.kt)("h4",{id:"opengram"},"Opengram"),(0,i.kt)(l.Z,{label:"BREAKING",size:"small",color:"error",mdxType:"Chip"}),(0,i.kt)("p",null,"Now ",(0,i.kt)("inlineCode",{parentName:"p"},"ctx.botInfo")," ",(0,i.kt)("strong",{parentName:"p"},"required"),"."),(0,i.kt)("p",null,"Previously ",(0,i.kt)("inlineCode",{parentName:"p"},"ctx.botInfo")," / ",(0,i.kt)("inlineCode",{parentName:"p"},"ctx.me")," only was available when a bot started with ",(0,i.kt)("inlineCode",{parentName:"p"},"Opengram.launch()")," or when you passed a bot username in ",(0,i.kt)("inlineCode",{parentName:"p"},"Opengram")," options.\xa0"),(0,i.kt)("p",null,"Now ",(0,i.kt)("inlineCode",{parentName:"p"},"getMe")," called for every update, if ",(0,i.kt)("inlineCode",{parentName:"p"},"ctx.botInfo")," not exists."),(0,i.kt)("p",null,"If you use ",(0,i.kt)("inlineCode",{parentName:"p"},"bot.handleUpdate(s)"),", you should add Opengram.botInfo data, to prevent many calls ",(0,i.kt)("inlineCode",{parentName:"p"},"getMe")," and problems with API Limits, example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Opengram(token, {})\nbot.context.botInfo = { username: 'mybot' }\n// ...\nbot.handleUpdate(...)\n// ...\n")),(0,i.kt)("hr",null),(0,i.kt)(l.Z,{label:"BREAKING",size:"small",color:"error",mdxType:"Chip"}),(0,i.kt)("p",null,"Fully remove support for passing keyboard directly to extra parameters, it was not fully removed for ",(0,i.kt)("inlineCode",{parentName:"p"},"editMessageCaption"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"editMessageMedia"),", but removed for others in Telegraf 3.38, now it is not available:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-diff"},"- // Before that, you could do this\n- ctx.editMessageCaption(\n-  'Forgetting is like a wound. The wound may heal, but it has already left a - scar.',\n-   Markup.inlinekeybaord(...)\n- )\n\n+ // Now only:\n+ ctx.editMessageCaption(\n+  'Forgetting is like a wound. The wound may heal, but it has already left a - scar.',\n+   Markup.inlinekeybaord(...).extra()\n+ )\n+ // Or\n+ ctx.editMessageCaption(\n+  'Forgetting is like a wound. The wound may heal, but it has already left a - scar.',\n+   Extra.markup(Markup.inlinekeybaord(...))\n+ )\n")),(0,i.kt)("hr",null),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("inlineCode",{parentName:"li"},"entities"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"captionEntities")," methods for adding entities with ",(0,i.kt)("inlineCode",{parentName:"li"},"Extra")),(0,i.kt)("li",{parentName:"ul"},"Added enter middleware for Wizard scenes, now you can use ",(0,i.kt)("inlineCode",{parentName:"li"},"scene.enter(ctx => ...)")," like in ",(0,i.kt)("strong",{parentName:"li"},"Base")," scenes"),(0,i.kt)("li",{parentName:"ul"},"Fixed ",(0,i.kt)("inlineCode",{parentName:"li"},"formatHTML")," with emoji"),(0,i.kt)("li",{parentName:"ul"},"Fixed ",(0,i.kt)("inlineCode",{parentName:"li"},"formatHTML")," to work with HTML-reserved characters"),(0,i.kt)("li",{parentName:"ul"},"Fix ",(0,i.kt)("inlineCode",{parentName:"li"},"telegram.getFileLink")," with local bot API instances"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)(l.Z,{label:"BREAKING",size:"small",color:"error",mdxType:"Chip"})," Webhook methods blacklist replaced with a whitelist"),(0,i.kt)("li",{parentName:"ul"},"Fixed infinity recursion in scenes. For example:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"// Enter calling leave, and it's emit new leave event and get into recursion\nscene.leave(ctx => ctx.scene.enter('name'))\n")),(0,i.kt)("hr",null),(0,i.kt)(l.Z,{label:"BREAKING",size:"small",color:"error",mdxType:"Chip"})," Rewrite ",(0,i.kt)("code",null,"handlerTimeout"),".",(0,i.kt)("p",null,"Now ",(0,i.kt)("inlineCode",{parentName:"p"},"TimeoutError")," an error thrown when timeout. Previously, when a timeout, when the timeout expired, long-polling doesn't await processing all updates and gets new updates. ",(0,i.kt)("inlineCode",{parentName:"p"},"handlerTimeout")," is part of long-polling backpressure, when your handler processed very long time it's ",(0,i.kt)("strong",{parentName:"p"},"very bad"),". For webhook, ",(0,i.kt)("strong",{parentName:"p"},"it can create some problems with webhook reply")," and etc. It was decided to toughen up this design to ",(0,i.kt)("strong",{parentName:"p"},"avoid bigger problems.")," ",(0,i.kt)("strong",{parentName:"p"},"However, of course, you can handle this error in")," ",(0,i.kt)("inlineCode",{parentName:"p"},"bot.catch")," ",(0,i.kt)("strong",{parentName:"p"},"like any other.")),(0,i.kt)("hr",null),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Added test environment support, see ",(0,i.kt)("a",{parentName:"li",href:"https://core.telegram.org/bots/webapps#using-bots-in-the-test-environment"},"Bots API 6.0 changes")," for mare information"),(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("inlineCode",{parentName:"li"},"apiPrefix")," option for using with ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/tdlight-team/tdlight"},"TDLight")),(0,i.kt)("li",{parentName:"ul"},"Fixed ",(0,i.kt)("inlineCode",{parentName:"li"},"stopCallback")," calling twice, in some cases it was being called twice"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)(l.Z,{label:"BREAKING",size:"small",color:"error",mdxType:"Chip"})," Changed default webhook path `/telegraf/...` to `/opengram/...`"),(0,i.kt)("li",{parentName:"ul"},"Fixed error swallowing when starting the bot. Sometimes, when ",(0,i.kt)("inlineCode",{parentName:"li"},"Opengram.launch()"),' calls the API method and gets an error, it was displayed in the console, and the bot would freeze, it would not receive an update, was not really launched and did not crash - "Bot started, but not answers to events" Commit for more info - 90c2012'),(0,i.kt)("li",{parentName:"ul"},"Fixed ",(0,i.kt)("inlineCode",{parentName:"li"},"Composer.match")," for channel updates. Now ",(0,i.kt)("inlineCode",{parentName:"li"},"Composer::hears"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"Composer::action"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"Composer::inlineQuery")," works for channels too"),(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("inlineCode",{parentName:"li"},"TelegramError")," export"),(0,i.kt)("li",{parentName:"ul"},"Added redact for hide token from error messages"),(0,i.kt)("li",{parentName:"ul"},"Fixed ",(0,i.kt)("inlineCode",{parentName:"li"},"startPayload")," for commands with username"),(0,i.kt)("li",{parentName:"ul"},"Wizard Scenes now extends ",(0,i.kt)("inlineCode",{parentName:"li"},"BaseScene")),(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("inlineCode",{parentName:"li"},"Scenes")," object to exports"),(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("inlineCode",{parentName:"li"},"isTelegramError")," and exported"),(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("inlineCode",{parentName:"li"},"Composer.customEmoji")),(0,i.kt)("li",{parentName:"ul"},"Added ",(0,i.kt)("inlineCode",{parentName:"li"},"anyMessage"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"anyText"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"anyEntities")," getters in OpengramContext"),(0,i.kt)("li",{parentName:"ul"},"Added warning when accessing session object after save"),(0,i.kt)("li",{parentName:"ul"},"Added warning accessing session object when session key not available")),(0,i.kt)("h4",{id:"general"},"General"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"JSDoc annotated code"),(0,i.kt)("li",{parentName:"ul"},"Update to Bot API 6.6"),(0,i.kt)("li",{parentName:"ul"},"Added support for cancelling requests via ",(0,i.kt)("inlineCode",{parentName:"li"},"AbortSignal")," in ",(0,i.kt)("inlineCode",{parentName:"li"},"Telegram.callApi()")," / ",(0,i.kt)("inlineCode",{parentName:"li"},"Context")," & ",(0,i.kt)("inlineCode",{parentName:"li"},"Telegram")," methods"),(0,i.kt)("li",{parentName:"ul"},"Add ",(0,i.kt)("inlineCode",{parentName:"li"},"attachmentAgent")," option to provide an agent that is used for fetching files from the web before they are sent to Telegram (previously done through the same ",(0,i.kt)("inlineCode",{parentName:"li"},"agent")," as used to connect to Telegram itself)"),(0,i.kt)("li",{parentName:"ul"},"Sessions rewrote and refactored"),(0,i.kt)("li",{parentName:"ul"},"Increased tests coverage"),(0,i.kt)("li",{parentName:"ul"},"Code / performance improvements"),(0,i.kt)("li",{parentName:"ul"},"Fixed a lot of bugs")))}k.isMDXComponent=!0}}]);