"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[8514],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=i,f=d["".concat(s,".").concat(m)]||d[m]||p[m]||r;return n?a.createElement(f,o(o({ref:t},c),{},{components:n})):a.createElement(f,o({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var u=2;u<r;u++)o[u]=n[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(7294),i=n(6010);const r="tabItem_Ymn6";function o(e){let{children:t,hidden:n,className:o}=e;return a.createElement("div",{role:"tabpanel",className:(0,i.Z)(r,o),hidden:n},t)}},4866:(e,t,n)=>{n.d(t,{Z:()=>x});var a=n(7462),i=n(7294),r=n(6010),o=n(2466),l=n(6775),s=n(1980),u=n(7392),c=n(12);function p(e){return function(e){return i.Children.map(e,(e=>{if((0,i.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:i}}=e;return{value:t,label:n,attributes:a,default:i}}))}function d(e){const{values:t,children:n}=e;return(0,i.useMemo)((()=>{const e=t??p(n);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function m(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:n}=e;const a=(0,l.k6)(),r=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,s._X)(r),(0,i.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(a.location.search);t.set(r,e),a.replace({...a.location,search:t.toString()})}),[r,a])]}function h(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,r=d(e),[o,l]=(0,i.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:r}))),[s,u]=f({queryString:n,groupId:a}),[p,h]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,r]=(0,c.Nk)(n);return[a,(0,i.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:a}),g=(()=>{const e=s??p;return m({value:e,tabValues:r})?e:null})();(0,i.useLayoutEffect)((()=>{g&&l(g)}),[g]);return{selectedValue:o,selectValue:(0,i.useCallback)((e=>{if(!m({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),h(e)}),[u,h,r]),tabValues:r}}var g=n(2389);const b="tabList__CuJ",k="tabItem_LNqP";function v(e){let{className:t,block:n,selectedValue:l,selectValue:s,tabValues:u}=e;const c=[],{blockElementScrollPositionUntilNextRender:p}=(0,o.o5)(),d=e=>{const t=e.currentTarget,n=c.indexOf(t),a=u[n].value;a!==l&&(p(t),s(a))},m=e=>{var t;let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=c.indexOf(e.currentTarget)+1;n=c[t]??c[0];break}case"ArrowLeft":{const t=c.indexOf(e.currentTarget)-1;n=c[t]??c[c.length-1];break}}null==(t=n)||t.focus()};return i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},t)},u.map((e=>{let{value:t,label:n,attributes:o}=e;return i.createElement("li",(0,a.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>c.push(e),onKeyDown:m,onClick:d},o,{className:(0,r.Z)("tabs__item",k,null==o?void 0:o.className,{"tabs__item--active":l===t})}),n??t)})))}function y(e){let{lazy:t,children:n,selectedValue:a}=e;if(n=Array.isArray(n)?n:[n],t){const e=n.find((e=>e.props.value===a));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return i.createElement("div",{className:"margin-top--md"},n.map(((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function w(e){const t=h(e);return i.createElement("div",{className:(0,r.Z)("tabs-container",b)},i.createElement(v,(0,a.Z)({},e,t)),i.createElement(y,(0,a.Z)({},e,t)))}function x(e){const t=(0,g.Z)();return i.createElement(w,(0,a.Z)({key:String(t)},e))}},1413:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(7294),i=n(5864);const r=e=>{let{url:t,language:n="js",showLineNumbers:r,title:o,className:l,metastring:s}=e;const[u,c]=(0,a.useState)("Loading...");return(0,a.useEffect)((()=>{fetch(t).then((e=>e.text())).then((e=>c(e))).catch((e=>c(e)))}),[]),a.createElement(i.Z,{children:u,showLineNumbers:r,title:o,className:l,metastring:s,language:n})}},3027:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>u,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>m});var a=n(7462),i=(n(7294),n(3905)),r=n(4866),o=n(5162),l=n(1413);const s={sidebar_position:1},u="\ud83c\udf10 Internalization (i18next)",c={unversionedId:"advanced/internalization",id:"advanced/internalization",title:"\ud83c\udf10 Internalization (i18next)",description:"Explained (TL;DR)",source:"@site/docs/advanced/internalization.mdx",sourceDirName:"advanced",slug:"/advanced/internalization",permalink:"/ru/docs/advanced/internalization",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/advanced/internalization.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"\ud83d\udcab Stage & Scenes",permalink:"/ru/docs/plugins/stage"},next:{title:"Changelog",permalink:"/ru/docs/changelog"}},p={},d="https://raw.githubusercontent.com/OpengramJS/opengram/master/docs/examples",m=[{value:"Explained (TL;DR)",id:"explained-tldr",level:2},{value:"What is internationalization (i18n)?",id:"what-is-internationalization-i18n",level:3},{value:"What is localization (l10n)?",id:"what-is-localization-l10n",level:3},{value:"Introduction",id:"introduction",level:2},{value:"Why i18next?",id:"why-i18next",level:2},{value:"Installation",id:"installation",level:2},{value:"Integration",id:"integration",level:2},{value:"More",id:"more",level:2},{value:"Docs (i18next)",id:"docs-i18next",level:3},{value:"Sources of information",id:"sources-of-information",level:2}],f={toc:m};function h(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"-internalization-i18next"},"\ud83c\udf10 Internalization (i18next)"),(0,i.kt)("h2",{id:"explained-tldr"},"Explained (TL;DR)"),(0,i.kt)("h3",{id:"what-is-internationalization-i18n"},"What is internationalization (i18n)?"),(0,i.kt)("p",null,"Internationalization (i18n) is the process of designing and developing software so it can be adapted for users\nof different cultures and languages."),(0,i.kt)("p",null,"Internationalization doesn\u2019t just involve enabling different languages\u2014it also entails adapting the software to\naccept different forms of data and settings to match local customs and process them correctly."),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"https://www.w3.org/International/questions/qa-i18n"},"W3C Group defines internationalization")," as follows:"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Internationalization is the design and development of a product, application, or document content that enables easy\nlocalization for target audiences that vary in culture, region, or language."),(0,i.kt)("p",{parentName:"blockquote"},"Internationalization usually includes:"),(0,i.kt)("ul",{parentName:"blockquote"},(0,i.kt)("li",{parentName:"ul"},"Designing and developing in a way that removes barriers to localization or international deployment.\nThis includes such things as enabling the use of Unicode, ensuring the proper handling of legacy character encodings\nwhere appropriate, taking care over the concatenation of strings, avoiding dependence in code of user-interface\nstring values, etc."),(0,i.kt)("li",{parentName:"ul"},"Providing support for features that may not be used until localization occurs. For example, adding markup in your\nDTD to support bidirectional text, or for identifying language. Or adding to CSS support for vertical text or other\nnon-Latin typographic features."),(0,i.kt)("li",{parentName:"ul"},"Enabling code to support local, regional, language, or culturally related preferences. Typically, this involves\nincorporating predefined localization data and features derived from existing libraries or user preferences.\nExamples include date and time formats, local calendars, number formats, and numeral systems, sorting and\npresentation of lists, handling of personal names and forms of address, etc."),(0,i.kt)("li",{parentName:"ul"},"Separating localizable elements from source code or content, such that localized alternatives can be loaded or\nselected based on the user\u2019s international preferences as needed."))),(0,i.kt)("h3",{id:"what-is-localization-l10n"},"What is localization (l10n)?"),(0,i.kt)("p",null,'Although similar at first sight, localization isn\u2019t the same as internationalization. Localization is the act of\nadapting software\u2014from content, UI layout, colors, and images to measurement units, date formats, and currencies\u2014to\nsuit a specific locale. The term "locale" defines a geographical region with a specific language (e.g., fr_CA means\nFrench from Canada, fr_FR means French from France, etc.).'),(0,i.kt)("p",null,"Internationalization always comes first, and it\u2019s what makes localization easier. In many ways, internationalization\ncan be thought of as building the structure of a piece of software so that it can be adjusted for different target\nmarkets, and localization is the process of actually doing so for a specific market. Both are integral parts of a\nlocalization strategy."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"The W3C Group refers to localization as follows:")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\u201cLocalization refers to the adaptation of a product, application, or document content to meet the language, cultural\nand other requirements of a specific target market (a locale). Localization is sometimes written as l10n, where 10 is\nthe number of letters between l and n. Often thought of only as a synonym for translation of the user interface and\ndocumentation, localization is often a substantially more complex issue."),(0,i.kt)("p",{parentName:"blockquote"},"Localization can entail customization related to:"),(0,i.kt)("ul",{parentName:"blockquote"},(0,i.kt)("li",{parentName:"ul"},"Numeric, date, and time formats"),(0,i.kt)("li",{parentName:"ul"},"Use of currency"),(0,i.kt)("li",{parentName:"ul"},"Keyboard usage"),(0,i.kt)("li",{parentName:"ul"},"Collation and sorting"),(0,i.kt)("li",{parentName:"ul"},"Symbols, icons, and colors"),(0,i.kt)("li",{parentName:"ul"},"Text and graphics containing references to objects, actions, or ideas that, in a given culture, may be subject to misinterpretation or viewed as insensitive"),(0,i.kt)("li",{parentName:"ul"},"Varying legal requirements, and many more things\u2026")),(0,i.kt)("p",{parentName:"blockquote"},"Localization may even necessitate a comprehensive rethinking of logic, visual design, or presentation if the way of doing business (e.g., accounting) or the accepted paradigm for learning (e.g., focus on individual vs. group) in a given locale differs substantially from the originating culture.\u201d")),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"When your bot becomes popular, people in different regions of the world start using it. There is a need to provide them\nwith the functionality of your bot, in their native language. This guide will help you solve this problem with\n",(0,i.kt)("a",{parentName:"p",href:"https://www.i18next.com/"},"i18next")),(0,i.kt)("h2",{id:"why-i18next"},"Why i18next?"),(0,i.kt)("p",null,"As you can see, we offer integration of third-party solutions, unlike other bot frameworks and libraries that usually\noffer their own solutions for this, and for good reason. i18next is a very popular and flexible solution, it is\nquite difficult to create something similar and of sufficient quality, as well as to maintain it."),(0,i.kt)("p",null,"Its features and flexibility are incomparable to any offered solution in other libraries and frameworks, and its\npopularity and good documentation makes it easy to integrate and work with it."),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)("p",null,"First you need to install ",(0,i.kt)("a",{parentName:"p",href:"https://www.i18next.com/"},"i18next"),":"),(0,i.kt)(r.Z,{defaultValue:"npm",values:[{label:"NPM",value:"npm"},{label:"Yarn",value:"yarn"},{label:"pnpm",value:"pnpm"}],mdxType:"Tabs"},(0,i.kt)(o.Z,{value:"npm",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"npm install i18next --save\n"))),(0,i.kt)(o.Z,{value:"yarn",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add i18next\n"))),(0,i.kt)(o.Z,{value:"pnpm",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"pnpm add i18next\n")))),(0,i.kt)("h2",{id:"integration"},"Integration"),(0,i.kt)("p",null,"To integrate i18next into our bot, we first need to create a file where we place the code that will\ncreate middleware for us. We can place the file anywhere."),(0,i.kt)(l.Z,{showLineNumbers:!0,title:"i18n.js",url:d+"/advanced/i18next-internalization/i18n.js",mdxType:"GithubBlock"}),(0,i.kt)("p",null,"Now we need to import and initialize ",(0,i.kt)("strong",{parentName:"p"},"i18next"),", and register our middleware."),(0,i.kt)("admonition",{type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Locales and initialization run asynchronously. This must be done before launching our bot so that all locales are successfully loaded before they are used.")),(0,i.kt)("p",null,"Here is an example of how this can be done:"),(0,i.kt)(l.Z,{showLineNumbers:!0,title:"index.js",url:d+"/advanced/i18next-internalization/index.js",mdxType:"GithubBlock"}),(0,i.kt)("p",null,"The example above shows a basic example of how you can use i18next for your bots"),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"If you notice that the debug mode is enabled in the example, it is very useful during development, as it displays\nvarious information, for example, about missing keys, events, and so on.")),(0,i.kt)("h2",{id:"more"},"More"),(0,i.kt)("p",null,"Of course, the possibilities are not limited to the example shown above. ",(0,i.kt)("strong",{parentName:"p"},"i18next")," supports many formats, here are some\nof them for example:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},".json .json5 .yml/.yaml .js/.ts (via ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/i18next/i18next-fs-backend"},"i18next-fs-backend"),")"),(0,i.kt)("li",{parentName:"ul"},"fluent (via ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/i18next/i18next-fluent-backend"},"i18next-fluent-backend")," / ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/i18next/i18next-fluent"},"i18next-fluent"),")"),(0,i.kt)("li",{parentName:"ul"},"MongoDB (via ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/lamualfa/i18next-node-mongodb-backend-next"},"i18next-node-mongodb-backend-next"),")"),(0,i.kt)("li",{parentName:"ul"},"Firebase (via ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/gregfenton/i18next-node-firestore-backend"},"i18next-node-firestore-backend")," or ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/inteligator/i18next-firebase-backend"},"i18next-firebase-backend"),")"),(0,i.kt)("li",{parentName:"ul"},"Couchbase (via ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/kvaillant/i18next.couchbase"},"i18next.couchbase"),")"),(0,i.kt)("li",{parentName:"ul"},"locize.com (via ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/locize/i18next-locize-backend"},"i18next-locize-backend"),")"),(0,i.kt)("li",{parentName:"ul"},"spacetranslate.com / locize.io (via ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/timbrandin/i18next-node-service-backend"},"i18next-node-service-backend"),")")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"i18next")," also ",(0,i.kt)("strong",{parentName:"p"},"supports its own middleware"),", for example:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/i18next/i18next-emoji-postprocessor"},"i18next-emoji-postprocessor")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/i18next/i18next-intervalPlural-postProcessor"},"i18next-intervalPlural-postProcessor")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/i18next/i18next-sprintf-postProcessor"},"i18next-sprintf-postProcessor")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/Perlmint/i18next-korean-postposition-processor"},"i18next-korean-postposition-processor")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/i18next/i18next-chained-backend"},"i18next-chained-backend"))),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"If you want, you can create your own plugins, using ",(0,i.kt)("a",{parentName:"em",href:"https://www.i18next.com/misc/creating-own-plugins"},"this guide"))),(0,i.kt)("h3",{id:"docs-i18next"},"Docs (i18next)"),(0,i.kt)("p",null,"You can read more about basics, APIs, plugins, post processors, formatting, context, pluralize and formatting\n(numbers, currency, dates, relative time) and other in the official documentation:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://www.i18next.com/translation-function/essentials"},"Essentials")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://www.i18next.com/translation-function/interpolation"},"Interpolation")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://www.i18next.com/translation-function/formatting"},"Formatting")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://www.i18next.com/translation-function/plurals"},"Plurals")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://www.i18next.com/translation-function/nesting"},"Nesting")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://www.i18next.com/translation-function/context"},"Context"))),(0,i.kt)("h2",{id:"sources-of-information"},"Sources of information"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://phrase.com/blog/posts/i18n-a-simple-definition/"},"https://phrase.com/blog/posts/i18n-a-simple-definition/")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://www.i18next.com/"},"https://www.i18next.com/"))))}h.isMDXComponent=!0}}]);