(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[1795],{5084:(e,t,a)=>{"use strict";a.d(t,{Z:()=>Z});var n=a(3366),r=a(7462),l=a(7294),o=a(6010),i=a(7925),s=a(4780),u=a(1796),d=a(6342),p=a(6660),c=a(5089),m=a(6622),g=a(7621);function h(e){return(0,g.Z)("MuiButton",e)}const v=(0,a(1588).Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const b=l.createContext({});var k=a(5893);const f=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],N=["root"],y=e=>(0,r.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),x=(0,d.ZP)(c.Z,{shouldForwardProp:e=>(0,d.FO)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t[`${a.variant}${(0,m.Z)(a.color)}`],t[`size${(0,m.Z)(a.size)}`],t[`${a.variant}Size${(0,m.Z)(a.size)}`],"inherit"===a.color&&t.colorInherit,a.disableElevation&&t.disableElevation,a.fullWidth&&t.fullWidth]}})((({theme:e,ownerState:t})=>{var a,n;return(0,r.Z)({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":(0,r.Z)({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,u.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===t.variant&&"inherit"!==t.color&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,u.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===t.variant&&"inherit"!==t.color&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,u.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===t.variant&&{backgroundColor:(e.vars||e).palette.grey.A100,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},"contained"===t.variant&&"inherit"!==t.color&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":(0,r.Z)({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${v.focusVisible}`]:(0,r.Z)({},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${v.disabled}`]:(0,r.Z)({color:(e.vars||e).palette.action.disabled},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"outlined"===t.variant&&"secondary"===t.color&&{border:`1px solid ${(e.vars||e).palette.action.disabled}`},"contained"===t.variant&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},"text"===t.variant&&{padding:"6px 8px"},"text"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main},"outlined"===t.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${(0,u.Fq)(e.palette[t.color].main,.5)}`},"contained"===t.variant&&{color:e.vars?e.vars.palette.text.primary:null==(a=(n=e.palette).getContrastText)?void 0:a.call(n,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],boxShadow:(e.vars||e).shadows[2]},"contained"===t.variant&&"inherit"!==t.color&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},"inherit"===t.color&&{color:"inherit",borderColor:"currentColor"},"small"===t.size&&"text"===t.variant&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"text"===t.variant&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"outlined"===t.variant&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"outlined"===t.variant&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"contained"===t.variant&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"contained"===t.variant&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})}),(({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${v.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${v.disabled}`]:{boxShadow:"none"}})),w=(0,d.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.startIcon,t[`iconSize${(0,m.Z)(a.size)}`]]}})((({ownerState:e})=>(0,r.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===e.size&&{marginLeft:-2},y(e)))),S=(0,d.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.endIcon,t[`iconSize${(0,m.Z)(a.size)}`]]}})((({ownerState:e})=>(0,r.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===e.size&&{marginRight:-2},y(e)))),Z=l.forwardRef((function(e,t){const a=l.useContext(b),u=(0,i.Z)(a,e),d=(0,p.Z)({props:u,name:"MuiButton"}),{children:c,color:g="primary",component:v="button",className:y,disabled:Z=!1,disableElevation:C=!1,disableFocusRipple:T=!1,endIcon:I,focusVisibleClassName:z,fullWidth:E=!1,size:V="medium",startIcon:j,type:$,variant:R="text"}=d,M=(0,n.Z)(d,f),L=(0,r.Z)({},d,{color:g,component:v,disabled:Z,disableElevation:C,disableFocusRipple:T,fullWidth:E,size:V,type:$,variant:R}),q=(e=>{const{color:t,disableElevation:a,fullWidth:n,size:l,variant:o,classes:i}=e,u={root:["root",o,`${o}${(0,m.Z)(t)}`,`size${(0,m.Z)(l)}`,`${o}Size${(0,m.Z)(l)}`,"inherit"===t&&"colorInherit",a&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${(0,m.Z)(l)}`],endIcon:["endIcon",`iconSize${(0,m.Z)(l)}`]},d=(0,s.Z)(u,h,i);return(0,r.Z)({},i,d)})(L),{root:O}=q,B=(0,n.Z)(q,N),P=j&&(0,k.jsx)(w,{className:B.startIcon,ownerState:L,children:j}),D=I&&(0,k.jsx)(S,{className:B.endIcon,ownerState:L,children:I});return(0,k.jsxs)(x,(0,r.Z)({ownerState:L,className:(0,o.Z)(a.className,O,y),component:v,disabled:Z,focusRipple:!T,focusVisibleClassName:(0,o.Z)(B.focusVisible,z),ref:t,type:$},M,{classes:B,children:[P,c,D]}))}))},5162:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(7294),r=a(6010);const l="tabItem_Ymn6";function o(e){let{children:t,hidden:a,className:o}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(l,o),hidden:a},t)}},4866:(e,t,a)=>{"use strict";a.d(t,{Z:()=>x});var n=a(7462),r=a(7294),l=a(6010),o=a(2466),i=a(6775),s=a(1980),u=a(7392),d=a(12);function p(e){return function(e){return r.Children.map(e,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function c(e){const{values:t,children:a}=e;return(0,r.useMemo)((()=>{const e=t??p(a);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function m(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function g(e){let{queryString:t=!1,groupId:a}=e;const n=(0,i.k6)(),l=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,s._X)(l),(0,r.useCallback)((e=>{if(!l)return;const t=new URLSearchParams(n.location.search);t.set(l,e),n.replace({...n.location,search:t.toString()})}),[l,n])]}function h(e){const{defaultValue:t,queryString:a=!1,groupId:n}=e,l=c(e),[o,i]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:l}))),[s,u]=g({queryString:a,groupId:n}),[p,h]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,l]=(0,d.Nk)(a);return[n,(0,r.useCallback)((e=>{a&&l.set(e)}),[a,l])]}({groupId:n}),v=(()=>{const e=s??p;return m({value:e,tabValues:l})?e:null})();(0,r.useLayoutEffect)((()=>{v&&i(v)}),[v]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!m({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);i(e),u(e),h(e)}),[u,h,l]),tabValues:l}}var v=a(2389);const b="tabList__CuJ",k="tabItem_LNqP";function f(e){let{className:t,block:a,selectedValue:i,selectValue:s,tabValues:u}=e;const d=[],{blockElementScrollPositionUntilNextRender:p}=(0,o.o5)(),c=e=>{const t=e.currentTarget,a=d.indexOf(t),n=u[a].value;n!==i&&(p(t),s(n))},m=e=>{var t;let a=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=d.indexOf(e.currentTarget)+1;a=d[t]??d[0];break}case"ArrowLeft":{const t=d.indexOf(e.currentTarget)-1;a=d[t]??d[d.length-1];break}}null==(t=a)||t.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":a},t)},u.map((e=>{let{value:t,label:a,attributes:o}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:i===t?0:-1,"aria-selected":i===t,key:t,ref:e=>d.push(e),onKeyDown:m,onClick:c},o,{className:(0,l.Z)("tabs__item",k,null==o?void 0:o.className,{"tabs__item--active":i===t})}),a??t)})))}function N(e){let{lazy:t,children:a,selectedValue:n}=e;if(a=Array.isArray(a)?a:[a],t){const e=a.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},a.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function y(e){const t=h(e);return r.createElement("div",{className:(0,l.Z)("tabs-container",b)},r.createElement(f,(0,n.Z)({},e,t)),r.createElement(N,(0,n.Z)({},e,t)))}function x(e){const t=(0,v.Z)();return r.createElement(y,(0,n.Z)({key:String(t)},e))}},8282:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(7294),r=a(7623),l=a(2949);const o=e=>{let{chart:t}=e;const a=(0,n.useRef)(null),[o]=(0,n.useState)("mermaid-"+Math.random().toString(36).slice(4)),{colorMode:i}=(0,l.I)();return(0,n.useEffect)((()=>{r.Z.mermaidAPI.initialize({startOnLoad:!0,securityLevel:"loose",logLevel:5})})),(0,n.useEffect)((()=>{a.current&&""!==t&&r.Z.mermaidAPI.render(o,`%%{init: {'theme':'${"dark"===i?"dark":"neutral"}'}}%%`+t,(e=>{a.current.innerHTML=e}))}),[t,i]),n.createElement("div",{key:o,ref:a})}},1413:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var n=a(7294),r=a(5864);const l=e=>{let{url:t,language:a="js",showLineNumbers:l,title:o,className:i,metastring:s}=e;const[u,d]=(0,n.useState)("Loading...");return(0,n.useEffect)((()=>{fetch(t).then((e=>e.text())).then((e=>d(e))).catch((e=>d(e)))}),[]),n.createElement(r.Z,{children:u,showLineNumbers:l,title:o,className:i,metastring:s,language:a})}},7122:(e,t,a)=>{"use strict";a.r(t),a.d(t,{assets:()=>m,contentTitle:()=>p,default:()=>b,frontMatter:()=>d,metadata:()=>c,toc:()=>h});var n=a(7462),r=(a(7294),a(3905)),l=a(4866),o=a(5162),i=a(5084),s=a(1413),u=a(8282);const d={},p="\ud83d\udce6 Arguments",c={unversionedId:"plugins/arguments",id:"plugins/arguments",title:"\ud83d\udce6 Arguments",description:"This plugin allows you to easily parse and validate command / inline query arguments with Joi",source:"@site/docs/plugins/arguments.mdx",sourceDirName:"plugins",slug:"/plugins/arguments",permalink:"/docs/plugins/arguments",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/plugins/arguments.mdx",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\ud83d\udce6 Arguments plugin",permalink:"/docs/live-examples/plugin-arguments"},next:{title:"\ud83c\udfde Media group",permalink:"/docs/plugins/media-group"}},m={},g="https://raw.githubusercontent.com/OpengramJS/arguments/master/examples",h=[{value:"Installing a plugin",id:"installing-a-plugin",level:2},{value:"How to use",id:"how-to-use",level:2},{value:"Configuration",id:"configuration",level:3},{value:"Mapping",id:"mapping",level:3},{value:"Error handling",id:"error-handling",level:3},{value:"Result object",id:"result-object",level:3},{value:"Usage example",id:"usage-example",level:2},{value:"Command",id:"command",level:3},{value:"Inline query",id:"inline-query",level:3},{value:"Additional Information",id:"additional-information",level:2}],v={toc:h};function b(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},v,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"-arguments"},"\ud83d\udce6 Arguments"),(0,r.kt)("p",null,"This plugin allows you to easily parse and validate command / inline query arguments with ",(0,r.kt)("a",{parentName:"p",href:"https://joi.dev/"},"Joi")),(0,r.kt)("p",null,"Plugin works with ",(0,r.kt)("strong",{parentName:"p"},"inline query"),", ",(0,r.kt)("strong",{parentName:"p"},"channel posts")," and ",(0,r.kt)("strong",{parentName:"p"},"messages")),(0,r.kt)("h2",{id:"installing-a-plugin"},"Installing a plugin"),(0,r.kt)(l.Z,{defaultValue:"npm",values:[{label:"NPM",value:"npm"},{label:"Yarn",value:"yarn"},{label:"pnpm",value:"pnpm"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"npm",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @opengram/arguments\n"))),(0,r.kt)(o.Z,{value:"yarn",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add @opengram/arguments\n"))),(0,r.kt)(o.Z,{value:"pnpm",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"pnpm add @opengram/arguments\n")))),(0,r.kt)("h2",{id:"how-to-use"},"How to use"),(0,r.kt)("p",null,"You need to create new ",(0,r.kt)("a",{parentName:"p",href:"https://joi.dev/"},"Joi")," validation schema and pass it to ",(0,r.kt)("inlineCode",{parentName:"p"},"arguments")," plugin with\n",(0,r.kt)("inlineCode",{parentName:"p"},"errorHandler")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"mapping")," array."),(0,r.kt)("h3",{id:"configuration"},"Configuration"),(0,r.kt)("p",null,"Accepted fields:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"),(0,r.kt)("th",{parentName:"tr",align:null},"Default value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mapping")),(0,r.kt)("td",{parentName:"tr",align:null},"The array contains a name for every argument. Used for remapping arguments and validation scheme"),(0,r.kt)("td",{parentName:"tr",align:null},"No (Yes if validation used)"),(0,r.kt)("td",{parentName:"tr",align:null},"-")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"schema")),(0,r.kt)("td",{parentName:"tr",align:null},"Joi validation scheme"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"-")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"config")),(0,r.kt)("td",{parentName:"tr",align:null},"Joi config"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"{ convert: true, allowUnknown: true, abortEarly: false } "))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"errorHandler")),(0,r.kt)("td",{parentName:"tr",align:null},"Error handler for validation error. If not defined, thowen error can handled with ",(0,r.kt)("inlineCode",{parentName:"td"},"bot.catch")),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},"-")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"allowedUpdates")),(0,r.kt)("td",{parentName:"tr",align:null},"List of allowed to parse updates"),(0,r.kt)("td",{parentName:"tr",align:null},"No"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"['message', 'channel_post', 'inline_query']"))))),(0,r.kt)("h3",{id:"mapping"},"Mapping"),(0,r.kt)("p",null,"This array shows for plugin how to remap argument ",(0,r.kt)("strong",{parentName:"p"},"index")," to ",(0,r.kt)("strong",{parentName:"p"},"argument name")," and used for validation with ",(0,r.kt)("inlineCode",{parentName:"p"},"Joi"),"."),(0,r.kt)("p",null,"For example, if you declare an object like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"['firstarg', 'secondarg']\n")),(0,r.kt)("p",null,"It means ",(0,r.kt)("strong",{parentName:"p"},"first argument")," be mapped to ",(0,r.kt)("inlineCode",{parentName:"p"},"firstarg")," and ",(0,r.kt)("strong",{parentName:"p"},"second")," mapped to ",(0,r.kt)("inlineCode",{parentName:"p"},"secondarg")," in result\n",(0,r.kt)("inlineCode",{parentName:"p"},"ctx.state.args")," object"),(0,r.kt)("h3",{id:"error-handling"},"Error handling"),(0,r.kt)("p",null,"When arguments validation fails, and ",(0,r.kt)("inlineCode",{parentName:"p"},"errorHandler")," not declared in ",(0,r.kt)("inlineCode",{parentName:"p"},"options"),", plugin throws original ",(0,r.kt)("inlineCode",{parentName:"p"},"joi")," error,\nwhich you can handle with ",(0,r.kt)("inlineCode",{parentName:"p"},"bot.catch")," handler. But this is not very convenient,"),(0,r.kt)("p",null,"So you can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"errorHandler")," to register a handler to be called on an error with an error object and\nthe current context, you can use the context object to e.g. to tell user about an error"),(0,r.kt)("h3",{id:"result-object"},"Result object"),(0,r.kt)("p",null,"You can get plugin result in ",(0,r.kt)("inlineCode",{parentName:"p"},"ctx.state.args"),", that object contains properties, showed in table:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Example"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"raw")),(0,r.kt)("td",{parentName:"tr",align:null},"Raw arguments array"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"['username', '100']"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"args")),(0,r.kt)("td",{parentName:"tr",align:null},"Result remapped object, contains validated / remapped arguments"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"{ username: 'username', balance 100 } "))))),(0,r.kt)("h2",{id:"usage-example"},"Usage example"),(0,r.kt)("h3",{id:"command"},"Command"),(0,r.kt)(l.Z,{defaultValue:"joi",values:[{label:"Validation & mapping",value:"joi"},{label:"Parsing & mapping",value:"parse-mapping"},{label:"Only parsing",value:"parse"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"joi",mdxType:"TabItem"},(0,r.kt)(i.Z,{sx:{mb:"1rem"},target:"_blank",href:"/docs/live-examples/plugin-arguments#validation--mapping",color:"success",variant:"outlined",mdxType:"Button"},"TRY NOW"),(0,r.kt)(s.Z,{url:g+"/commands/validation-mapping.js",showLineNumbers:!0,mdxType:"GithubBlock"})),(0,r.kt)(o.Z,{value:"parse-mapping",mdxType:"TabItem"},(0,r.kt)(i.Z,{sx:{mb:"1rem"},target:"_blank",href:"/docs/live-examples/plugin-arguments#parsing--mapping",color:"success",variant:"outlined",mdxType:"Button"},"TRY NOW"),(0,r.kt)(s.Z,{url:g+"/commands/parsing-mapping.js",showLineNumbers:!0,mdxType:"GithubBlock"})),(0,r.kt)(o.Z,{value:"parse",mdxType:"TabItem"},(0,r.kt)(i.Z,{sx:{mb:"1rem"},target:"_blank",href:"/docs/live-examples/plugin-arguments#only-parsing",color:"success",variant:"outlined",mdxType:"Button"},"TRY NOW"),(0,r.kt)(s.Z,{url:g+"/commands/only-parsing.js",showLineNumbers:!0,mdxType:"GithubBlock"}))),(0,r.kt)("h3",{id:"inline-query"},"Inline query"),(0,r.kt)(l.Z,{defaultValue:"joi",values:[{label:"Validation & mapping",value:"joi"},{label:"Parsing & mapping",value:"parse-mapping"},{label:"Only parsing",value:"parse"}],mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"joi",mdxType:"TabItem"},(0,r.kt)(s.Z,{url:g+"/inline-query/validation-mapping.js",showLineNumbers:!0,mdxType:"GithubBlock"})),(0,r.kt)(o.Z,{value:"parse-mapping",mdxType:"TabItem"},(0,r.kt)(s.Z,{url:g+"/inline-query/parsing-mapping.js",showLineNumbers:!0,mdxType:"GithubBlock"})),(0,r.kt)(o.Z,{value:"parse",mdxType:"TabItem"},(0,r.kt)(s.Z,{url:g+"/inline-query/only-parsing.js",showLineNumbers:!0,mdxType:"GithubBlock"}))),(0,r.kt)("h1",{id:"flowchart"},"Flowchart"),(0,r.kt)("details",null,(0,r.kt)("summary",null,"Click to expand"),(0,r.kt)("center",null,(0,r.kt)(u.Z,{chart:'\n flowchart TB\n  U("Incoming update") --\x3e M("Upstream middlewares")\n  M --\x3e F("Filter by given update types")\n  F --\x3e E("Has command entity?")\n  E -- No --\x3e N("Nothing to do, run next")\n  E -- Yes --\x3e Parsing --\x3e HV("Need mapping?")\n  HV -- No --\x3e K\n  HV -- Yes --\x3e Mapping --\x3e NV("Need validation?")\n  NV -- No --\x3e K\n  NV -- Yes --\x3e VC("Validate / cast") --\x3e ISV("Valid?")\n  ISV -- Yes --\x3e K\n  ISV -- No --\x3e ER("Error handler")\n  K("Add result to <code>ctx.state</code> and run next") --\x3e DM("Downstream middlewares")\n',mdxType:"Mermaid"}))),(0,r.kt)("h2",{id:"additional-information"},"Additional Information"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Source:")," ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/OpengramJS/arguments"},"https://github.com/OpengramJS/arguments")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"NPM:")," ",(0,r.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/@opengram/arguments"},"https://www.npmjs.com/package/@opengram/arguments")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Replit:")," ",(0,r.kt)("a",{parentName:"li",href:"https://replit.com/team/Opengram"},"https://replit.com/team/Opengram"))))}b.isMDXComponent=!0},1748:(e,t,a)=>{var n={"./locale":9234,"./locale.js":9234};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=1748}}]);